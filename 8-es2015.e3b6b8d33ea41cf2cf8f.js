(window.webpackJsonp=window.webpackJsonp||[]).push([[8,9],{Ch5c:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var c=i("+Ag2");let n=(()=>{class t extends c.a{}return t.STATUS_ACTIVE=1,t.STATUS_INACTIVE=2,t})()},Q8ph:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var c=i("Ch5c");class n{static convertToContestUrl(t,e){return"ky-thi/"+n.convertToUrl(t,e)}static convertToUrl(t,e){let i=t.toLowerCase();return i=i.replace(/\xe1|\xe0|\u1ea3|\u1ea1|\xe3|\u0103|\u1eaf|\u1eb1|\u1eb3|\u1eb5|\u1eb7|\xe2|\u1ea5|\u1ea7|\u1ea9|\u1eab|\u1ead/gi,"a"),i=i.replace(/\xe9|\xe8|\u1ebb|\u1ebd|\u1eb9|\xea|\u1ebf|\u1ec1|\u1ec3|\u1ec5|\u1ec7/gi,"e"),i=i.replace(/i|\xed|\xec|\u1ec9|\u0129|\u1ecb/gi,"i"),i=i.replace(/\xf3|\xf2|\u1ecf|\xf5|\u1ecd|\xf4|\u1ed1|\u1ed3|\u1ed5|\u1ed7|\u1ed9|\u01a1|\u1edb|\u1edd|\u1edf|\u1ee1|\u1ee3/gi,"o"),i=i.replace(/\xfa|\xf9|\u1ee7|\u0169|\u1ee5|\u01b0|\u1ee9|\u1eeb|\u1eed|\u1eef|\u1ef1/gi,"u"),i=i.replace(/\xfd|\u1ef3|\u1ef7|\u1ef9|\u1ef5/gi,"y"),i=i.replace(/\u0111/gi,"d"),i=i.replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,""),i=i.replace(/ /gi,"-"),i=i.replace(/\-\-\-\-\-/gi,"-"),i=i.replace(/\-\-\-\-/gi,"-"),i=i.replace(/\-\-\-/gi,"-"),i=i.replace(/\-\-/gi,"-"),i="@"+i+"@",i.replace(/\@\-|\-\@|\@/gi,"")+"-"+e}static getId(t){return parseInt(t.split(/[-]+/).pop())}static parentUrl(t,e=1){return t.split("/").reverse().slice(e).reverse().join("/")}static isActiveOrder(t,e){if(!t)return!1;let i=!1;return t.forEach((t,n)=>{t.contest_id!==e||t.status!==c.a.STATUS_ACTIVE||(i=!0)}),i}static scrollTop(){setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}}},"YK+t":function(t,e,i){"use strict";i.d(e,"a",function(){return j});var c=i("3Pt+"),n=i("Ch5c"),r=i("xmsf"),s=i("Q8ph"),o=i("s6DD"),b=i("fXoL"),a=i("0/gI"),d=i("lJxs");let u=(()=>{class t extends a.a{getEntityPath(){return"orders"}create(t,e){const i=this.getUrl()+`/${t}`;return this.post(i,e).pipe(Object(d.a)(t=>t.data),Object(d.a)(t=>t.map(t=>console.log(t))))}index(){return this.get(this.getUrl()).pipe(Object(d.a)(t=>t.data),Object(d.a)(t=>t.map(t=>new n.a(t))))}}return t.\u0275fac=function(e){return h(e||t)},t.\u0275prov=b.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const h=b.Wb(u);var l=i("QK4o"),p=i("kqIc"),g=i("e4Ts"),T=i("tyNb"),f=i("IfeN"),v=i("ofXK"),m=i("NFeN"),U=i("kmnG"),I=i("qFsG"),S=i("bTqV");function G(t,e){if(1&t){const t=b.Vb();b.Ub(0,"div",1),b.Ub(1,"div",2),b.Ub(2,"div",3),b.Ub(3,"div",4),b.Ub(4,"div",5),b.Ub(5,"p",6),b.bc("click",function(){return b.xc(t),b.fc().redirectLoginPage()}),b.Ub(6,"span",7),b.Ub(7,"i",8),b.Gc(8,"shopping_cart"),b.Tb(),b.Gc(9," \xa0"),b.Tb(),b.Gc(10," \u0110\u0103ng k\xfd mua kh\xf3a h\u1ecdc "),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb()}}function k(t,e){if(1&t){const t=b.Vb();b.Ub(0,"div"),b.Ub(1,"ul",11),b.Ub(2,"li",12),b.Ub(3,"div",13),b.Gc(4,"1"),b.Tb(),b.Ub(5,"div",14),b.Ub(6,"div",15),b.Ub(7,"span",16),b.Gc(8,"Thanh To\xe1n"),b.Tb(),b.Tb(),b.Ub(9,"div",17),b.Ub(10,"div",1),b.Ub(11,"div",18),b.Ub(12,"p"),b.Ub(13,"b"),b.Gc(14),b.Tb(),b.Gc(15),b.Ub(16,"span",19),b.Gc(17),b.Tb(),b.Tb(),b.Ub(18,"div",20),b.Ub(19,"span",21),b.Ub(20,"b"),b.Gc(21,"Ng\u01b0\u1eddi h\u01b0\u1edfng th\u1ee5: "),b.Tb(),b.Gc(22,"Tr\u1ecbnh Th\u1ecb Li\xean "),b.Tb(),b.Tb(),b.Ub(23,"div",20),b.Ub(24,"span",21),b.Ub(25,"b"),b.Gc(26,"STK:"),b.Tb(),b.Gc(27," 007704060063627"),b.Tb(),b.Tb(),b.Ub(28,"div",20),b.Ub(29,"span",21),b.Ub(30,"b"),b.Gc(31,"Ng\xe2n h\xe0ng:"),b.Tb(),b.Gc(32," VIB - Ng\xe2n h\xe0ng Qu\u1ed1c T\u1ebf VIB"),b.Tb(),b.Tb(),b.Ub(33,"div",20),b.Ub(34,"span",21),b.Ub(35,"i"),b.Gc(36,"(Ngay khi nh\u1eadn \u0111\u01b0\u1ee3c ti\u1ec1n, b\u1ed9 ph\u1eadn h\u1ed7 tr\u1ee3 s\u1ebd k\xedch ho\u1ea1t t\xe0i kho\u1ea3n cho b\u1ea1n)"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(37,"div",18),b.Ub(38,"div",5),b.Ub(39,"b"),b.Ub(40,"p"),b.Gc(41),b.Tb(),b.Tb(),b.Tb(),b.Ub(42,"div",22),b.Ub(43,"mat-icon",23),b.Gc(44,"done"),b.Tb(),b.Gc(45," \u0110\u1ec1 thi c\u1eadp nh\u1eadt li\xean t\u1ee5c "),b.Tb(),b.Ub(46,"div",22),b.Ub(47,"mat-icon",23),b.Gc(48,"done"),b.Tb(),b.Gc(49," Tr\u1ecdn b\u1ed9 c\xe2u h\u1ecfi v\xe0 gi\u1ea3i th\xedch "),b.Tb(),b.Ub(50,"div",22),b.Ub(51,"mat-icon",23),b.Gc(52,"done"),b.Tb(),b.Gc(53," T\u1ea3i v\u1ec1 tr\u1ecdn b\u1ed9 t\xe0i li\u1ec7u "),b.Tb(),b.Ub(54,"div",22),b.Ub(55,"mat-icon",23),b.Gc(56,"done"),b.Tb(),b.Gc(57," C\u1eadp nh\u1eadt th\xf4ng tin chi ti\u1ebft v\u1ec1 k\u1ef3 thi qua email "),b.Tb(),b.Ub(58,"div",22),b.Ub(59,"mat-icon",23),b.Gc(60,"done"),b.Tb(),b.Gc(61," H\u1ecdc t\u1eadp d\u1ec5 d\xe0ng tr\xean Web v\xe0 App \u0111i\u1ec7n tho\u1ea1i "),b.Tb(),b.Ub(62,"div",22),b.Ub(63,"mat-icon",23),b.Gc(64,"done"),b.Tb(),b.Gc(65," T\xe0i kho\u1ea3n k\xedch ho\u1ea1t cho \u0111\u1ebfn khi thi xong "),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(66,"li",12),b.Ub(67,"div",24),b.Gc(68,"2"),b.Tb(),b.Ub(69,"div",14),b.Ub(70,"div",15),b.Ub(71,"span",25),b.Gc(72,"Ghi ch\xfa"),b.Tb(),b.Tb(),b.Ub(73,"div",17),b.Ub(74,"form",26),b.Ub(75,"mat-form-field",27),b.Pb(76,"input",28),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(77,"div",5),b.Ub(78,"button",29),b.bc("click",function(){return b.xc(t),b.fc(3).hideForm()}),b.Gc(79,"H\u1ee7y"),b.Tb(),b.Gc(80," \xa0 \xa0 "),b.Ub(81,"button",30),b.bc("click",function(){return b.xc(t),b.fc(3).register()}),b.Gc(82," \u0110\u0103ng k\xfd "),b.Tb(),b.Tb(),b.Tb()}if(2&t){const t=b.fc(3);b.Db(14),b.Ic("",t.contest.isFree?"Mi\u1ec5n ph\xed":"Vui l\xf2ng thanh to\xe1n"," :"),b.Db(1),b.Ic(" ",t.contest.formatted_sale_price," "),b.Db(2),b.Ic(" (",t.contest.formatted_price,") "),b.Db(24),b.Hc(t.contest.title),b.Db(33),b.mc("formGroup",t.form),b.Db(7),b.mc("disabled",!t.form.valid)}}function w(t,e){if(1&t){const t=b.Vb();b.Ub(0,"div",3),b.Ub(1,"div",4),b.Ub(2,"div",5),b.Ub(3,"p",6),b.bc("click",function(){return b.xc(t),b.fc(2).toggleForm()}),b.Ub(4,"span",7),b.Ub(5,"i",8),b.Gc(6,"shopping_cart"),b.Tb(),b.Gc(7," \xa0"),b.Tb(),b.Gc(8," \u0110\u0103ng k\xfd mua kh\xf3a h\u1ecdc "),b.Tb(),b.Tb(),b.Ec(9,k,83,6,"div",10),b.Tb(),b.Tb()}if(2&t){const t=b.fc(2);b.Db(9),b.mc("ngIf",t.shouldShowForm)}}function y(t,e){1&t&&(b.Ub(0,"div",3),b.Ub(1,"div",31),b.Ub(2,"p",32),b.Ub(3,"i",8),b.Gc(4,"shopping_cart"),b.Tb(),b.Gc(5," \xa0 H\u1ec7 th\u1ed1ng \u0111ang x\u1eed l\xfd y\xeau c\u1ea7u \u0111\u0103ng k\xfd mua kh\xf3a h\u1ecdc c\u1ee7a b\u1ea1n! "),b.Tb(),b.Tb(),b.Tb())}function O(t,e){if(1&t&&(b.Ub(0,"div",1),b.Ub(1,"div",2),b.Ec(2,w,10,1,"div",9),b.Ec(3,y,6,0,"div",9),b.Tb(),b.Tb()),2&t){const t=b.fc();b.Db(2),b.mc("ngIf",!t.isInactive),b.Db(1),b.mc("ngIf",t.isInactive)}}let j=(()=>{class t{constructor(t,e,i,n,r,s,o,b){this.orderService=t,this.formBuilder=e,this.authService=i,this.contestService=n,this.sessionStorageService=r,this.route=s,this.notificationService=o,this.router=b,this.shouldShowForm=!1,this.isActive=!1,this.isInactive=!1,this.isFinishLoading=!1,this.form=this.formBuilder.group({note:[null,c.o.required]}),this.user=this.authService.getCurrentUser()}ngOnInit(){if(this.user){if(!this.contest){const t=s.a.getId(this.route.snapshot.paramMap.get("ky-thi"));this.contestService.getById(t).subscribe(t=>{this.contest=t})}this.orderService.index().subscribe(t=>{this.sessionStorageService.store(r.a.Order,t),t.forEach((t,e)=>{t.contest_id===this.contest.id&&t.status===n.a.STATUS_INACTIVE&&(this.isInactive=!0),t.contest_id===this.contest.id&&t.status===n.a.STATUS_ACTIVE&&(this.isActive=!0)}),this.isFinishLoading=!0})}}toggleForm(){this.shouldShowForm=!this.shouldShowForm}hideForm(){this.shouldShowForm=!1}register(){var t;this.orderService.create(this.contest.id,{note:null===(t=this.form.get("note"))||void 0===t?void 0:t.value}).subscribe(t=>{this.shouldShowForm=!1,this.isInactive=!0})}redirectLoginPage(){this.notificationService.warning("Vui l\xf2ng \u0111\u0103ng nh\u1eadp!"),this.router.navigate([o.a.SignIn],{queryParams:{returnUrl:this.router.url}})}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(u),b.Ob(c.d),b.Ob(l.a),b.Ob(p.a),b.Ob(g.b),b.Ob(T.a),b.Ob(f.a),b.Ob(T.d))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-order-contest"]],inputs:{contest:"contest"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-lg-12","col-md-12"],[1,"card"],[1,"card-body"],[1,"text-center"],[1,"btn","btn-primary",3,"click"],[1,"mat-button-wrapper"],[1,"material-icons"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"timeline","timeline-simple"],[1,"timeline-inverted"],[1,"timeline-badge","success"],[1,"timeline-panel"],[1,"timeline-heading"],[1,"badge","badge-success"],[1,"timeline-body"],[1,"col-sm-12","col-md-6"],[2,"text-decoration","line-through"],[1,"my-2"],[1,"font-title-soft"],[2,"display","flex"],[1,"material-icons",2,"color","blue"],[1,"timeline-badge","info"],[1,"badge","badge-info"],[3,"formGroup"],["appearance","outline"],["formControlName","note","matInput","","placeholder","Nh\u1eadp H\u1ecd T\xean v\xe0 S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i"],["mat-raised-button","","color","default",1,"text-center",3,"click"],["mat-raised-button","","color","primary",1,"text-center",3,"disabled","click"],[1,"card-body","text-center"],[1,"btn","btn-warning"]],template:function(t,e){1&t&&(b.Ec(0,G,11,0,"div",0),b.Ec(1,O,4,2,"div",0)),2&t&&(b.mc("ngIf",!e.user),b.Db(1),b.mc("ngIf",e.contest&&!e.contest.isFree&&!e.isActive&&e.isFinishLoading))},directives:[v.k,m.a,c.p,c.l,c.f,U.b,c.c,I.b,c.k,c.e,S.a],encapsulation:2}),t})()},kqIc:function(t,e,i){"use strict";i.d(e,"a",function(){return b});var c=i("0/gI"),n=i("lJxs"),r=i("Fryg"),s=i("l425"),o=i("fXoL");let b=(()=>{class t extends c.a{getEntityPath(){return"contests"}index(){return this.get(this.getUrl()).pipe(Object(n.a)(t=>t.data),Object(n.a)(t=>t.map(t=>new r.a(t))))}getSubjects(t){const e=this.getUrl()+`/${t}/subjects`;return this.get(e).pipe(Object(n.a)(t=>t.data),Object(n.a)(t=>t.map(t=>new s.a(t))))}getById(t){const e=this.getUrl()+`/${t}`;return this.get(e).pipe(Object(n.a)(t=>new r.a(t.data)))}}return t.\u0275fac=function(e){return a(e||t)},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const a=o.Wb(b)},l425:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var c=i("+Ag2");class n extends c.a{}},sHgf:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var c=i("ofXK"),n=i("PCNd"),r=i("fXoL");let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[c.c,n.a]]}),t})()},uZ4C:function(t,e,i){"use strict";i.r(e),i.d(e,"SubjectModule",function(){return I});var c=i("PCNd"),n=i("tyNb"),r=i("Q8ph"),s=i("fXoL"),o=i("94Cn"),b=i("kqIc"),a=i("dc+m"),d=i("ofXK"),u=i("YK+t"),h=i("Wp6s"),l=i("iOY/");function p(t,e){if(1&t&&s.Pb(0,"app-order-contest",8),2&t){const t=s.fc();s.mc("contest",t.contest)}}function g(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",9),s.bc("click",function(){s.xc(t);const i=e.$implicit;return s.fc().goToSection(i)}),s.Ub(1,"div",10),s.Ub(2,"h4",11),s.Gc(3),s.Tb(),s.Tb(),s.Ub(4,"div",12),s.Ub(5,"mat-card-content"),s.Gc(6),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=e.$implicit;s.Db(3),s.Hc(t.title),s.Db(3),s.Hc(t.description)}}function T(t,e){if(1&t&&s.Pb(0,"app-post-list",13),2&t){const t=s.fc();s.nc("creatableId",t.subjectId),s.mc("parentObject",t.subject)}}const f=[{path:":id",component:(()=>{class t{constructor(t,e,i,c,n){this.route=t,this.router=e,this.subjectService=i,this.contestService=c,this.breadcrumbService=n}ngOnInit(){r.a.scrollTop(),this.subjectId=r.a.getId(this.route.snapshot.paramMap.get("id")),this.contestId=r.a.getId(r.a.parentUrl(this.router.url,2)),this.subjectService.getById(this.subjectId).subscribe(t=>{this.subject=t}),this.contestService.getById(this.contestId).subscribe(t=>{this.contest=t,this.breadcrumbService.setItem(r.a.convertToContestUrl(t.title,t.id),this.contest.title)}),this.subjectService.getSections(this.subjectId).subscribe(t=>{this.sections=t})}ngOnDestroy(){}goToSection(t){this.router.navigate([this.router.url,"phan-thi",r.a.convertToUrl(t.title,t.id)])}goToExam(){this.router.navigate([this.router.url,"de-thi"])}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(n.a),s.Ob(n.d),s.Ob(o.a),s.Ob(b.a),s.Ob(a.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["ng-component"]],decls:8,vars:3,consts:[[3,"contest",4,"ngIf"],[1,"row"],[1,"col-lg-7","col-md-6"],["class","card cursor-pointer hover-shadow-wrapper",3,"click",4,"ngFor","ngForOf"],[1,"col-lg-5","col-md-6"],[1,"row","cursor-pointer","hover-shadow-wrapper"],["src","https://i.imgur.com/ZMkJL9F.png","alt","","width","100%",3,"click"],["typeId","3",3,"creatableId","parentObject",4,"ngIf"],[3,"contest"],[1,"card","cursor-pointer","hover-shadow-wrapper",3,"click"],[1,"card-header","card-header-primary"],[1,"card-title"],[1,"card-body"],["typeId","3",3,"creatableId","parentObject"]],template:function(t,e){1&t&&(s.Ec(0,p,1,1,"app-order-contest",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ec(3,g,7,2,"div",3),s.Tb(),s.Ub(4,"div",4),s.Ub(5,"div",5),s.Ub(6,"img",6),s.bc("click",function(){return e.goToExam()}),s.Tb(),s.Tb(),s.Ec(7,T,1,2,"app-post-list",7),s.Tb(),s.Tb()),2&t&&(s.mc("ngIf",e.contest),s.Db(3),s.mc("ngForOf",e.sections),s.Db(4),s.mc("ngIf",e.subject))},directives:[d.k,d.j,u.a,h.b,l.a],encapsulation:2}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({imports:[[n.g.forChild(f)],n.g]}),t})();var m=i("stSE"),U=i("sHgf");let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({imports:[[c.a,v,m.PostModule,U.a]]}),t})()},v5Tv:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var c=i("+Ag2");class n extends c.a{constructor(){super(...arguments),this.TYPE_SINGLE=1,this.TYPE_PARENT=2,this.TYPE_CHILD=3}get isSingle(){return this.type===this.TYPE_SINGLE}get isParent(){return this.type===this.TYPE_PARENT}}},xmsf:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var c=function(t){return t.Order="x}b?g;ZeC(AN>Ad",t}({})}}]);